{% load static %}
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}College Core{% endblock %}</title>

  <link rel="icon" href="{% static 'favicon.ico' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <script defer src="{% static 'js/tilt.js' %}"></script>
  <script defer src="{% static 'js/app.js' %}"></script>
</head>
<body>

  <div class="shell">
    <aside class="sidebar">
      <div class="sidebar-top">
        <div class="logo">
          <span class="logo-dot"></span>
          <span class="logo-text">Core</span>
        </div>
      </div>

      <nav class="sidebar-nav">
        <a class="nav-item" href="/dashboard/">
          <span class="ico">‚åÇ</span>
          <span class="txt">–î–∞—à–±–æ—Ä–¥</span>
        </a>

        {% if user.is_authenticated %}
          {# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å —á–µ—Ä–µ–∑ –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è (–±–µ–∑ –ª–∏—à–Ω–µ–π –ª–æ–≥–∏–∫–∏) #}
          {% if user.student %}
            <a class="nav-item" href="/schedule/"><span class="ico">üóì</span><span class="txt">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span></a>
            <a class="nav-item" href="/grades/"><span class="ico">‚òÖ</span><span class="txt">–û—Ü–µ–Ω–∫–∏</span></a>
            <a class="nav-item" href="/homeworks/"><span class="ico">‚òë</span><span class="txt">–î–æ–º–∞—à–∫–∏</span></a>
            <a class="nav-item" href="/remarks/"><span class="ico">!</span><span class="txt">–ó–∞–º–µ—á–∞–Ω–∏—è</span></a>
            <a class="nav-item" href="/news/"><span class="ico">‚ñ£</span><span class="txt">–ù–æ–≤–æ—Å—Ç–∏</span></a>
            <a class="nav-item" href="/settings/"><span class="ico">‚öô</span><span class="txt">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></a>

          {% elif user.director %}
            {# –î–∏—Ä–µ–∫—Ç–æ—Ä: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å + teacher-mode –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ –µ–≥–æ –¥–∞—à–µ #}
            <a class="nav-item" href="/remarks/"><span class="ico">!</span><span class="txt">–ó–∞–º–µ—á–∞–Ω–∏—è</span></a>
            <a class="nav-item" href="/grades/"><span class="ico">‚òÖ</span><span class="txt">–û—Ü–µ–Ω–∫–∏</span></a>
            <a class="nav-item" href="/homeworks/"><span class="ico">‚òë</span><span class="txt">–î–æ–º–∞—à–∫–∏</span></a>
            <a class="nav-item" href="/schedule/"><span class="ico">üóì</span><span class="txt">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span></a>
            <a class="nav-item" href="/news/"><span class="ico">‚ñ£</span><span class="txt">–ù–æ–≤–æ—Å—Ç–∏</span></a>
            <a class="nav-item" href="/admin/"><span class="ico">‚ñ¶</span><span class="txt">–ê–¥–º–∏–Ω–∫–∞</span></a>

          {% elif user.teacher %}
            {# –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ –ø–æ —Ä–∞–±–æ—Ç–µ #}
            <a class="nav-item" href="/schedule/"><span class="ico">üóì</span><span class="txt">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span></a>
            <a class="nav-item" href="/grades/"><span class="ico">‚òÖ</span><span class="txt">–û—Ü–µ–Ω–∫–∏</span></a>
            <a class="nav-item" href="/homeworks/"><span class="ico">‚òë</span><span class="txt">–î–æ–º–∞—à–∫–∏</span></a>
            <a class="nav-item" href="/remarks/"><span class="ico">!</span><span class="txt">–ó–∞–º–µ—á–∞–Ω–∏—è</span></a>
            <a class="nav-item" href="/news/"><span class="ico">‚ñ£</span><span class="txt">–ù–æ–≤–æ—Å—Ç–∏</span></a>
            <a class="nav-item" href="/admin/"><span class="ico">‚ñ¶</span><span class="txt">–ê–¥–º–∏–Ω–∫–∞</span></a>

          {% else %}
            <a class="nav-item" href="/news/"><span class="ico">‚ñ£</span><span class="txt">–ù–æ–≤–æ—Å—Ç–∏</span></a>
          {% endif %}
        {% endif %}
      </nav>

      <div class="sidebar-bottom">
        {% if user.is_authenticated %}
          <a class="nav-item danger" href="/logout/">
            <span class="ico">‚á¶</span>
            <span class="txt">–í—ã–π—Ç–∏</span>
          </a>
        {% else %}
          <a class="nav-item" href="/login/">
            <span class="ico">üë§</span>
            <span class="txt">–í–æ–π—Ç–∏</span>
          </a>
        {% endif %}
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topbar-left">
          {% block topbar_left %}{% endblock %}
        </div>
        <div class="topbar-right">
          {% if user.is_authenticated %}
            <div class="user-chip">
              <div class="avatar">{{ user.first_name|default:user.username|slice:":1" }}</div>
              <div class="meta">
                <div class="name">{{ user.get_full_name|default:user.username }}</div>
                <div class="role">
                  {% if user.director %}–î–∏—Ä–µ–∫—Ç–æ—Ä{% elif user.teacher %}–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å{% elif user.student %}–°—Ç—É–¥–µ–Ω—Ç{% else %}–ü—Ä–æ—Ñ–∏–ª—å{% endif %}
                </div>
              </div>
            </div>
          {% else %}
            <a class="btn" href="/login/">–í–æ–π—Ç–∏</a>
          {% endif %}
        </div>
      </header>

      {% block content %}{% endblock %}
    </main>
  </div>

</body>
</html>
